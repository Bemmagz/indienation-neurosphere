<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="noindex, nofollow">
    <title>Identity Initialization - NeuroSphere</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-green-500 font-mono flex flex-col items-center justify-center min-h-screen p-6">
    <div class="w-full max-w-xs border border-green-500 p-6 bg-green-950/10">
        <h1 class="text-xs font-bold tracking-[0.3em] uppercase mb-6 text-center">Identity Enrollment</h1>
        <input type="text" id="username" placeholder="INPUT IDENTITY NAME" class="w-full bg-black border border-green-500 p-2 mb-4 text-white text-[10px] outline-none">
        <button onclick="startBiometricAuth()" class="w-full py-3 bg-green-600 text-black font-bold text-[10px] uppercase">Initialize & Save</button>
        <p class="text-[7px] mt-4 opacity-50 text-center">SYSTEM: AI GUARD AUTO-SAVE ACTIVE</p>
    </div>

    <script>
        function startBiometricAuth() {
            const user = document.getElementById('username').value;
            if(!user) return alert("IDENTITY NAME REQUIRED");

            // Generate IID & Timestamp [cite: 2025-12-23]
            const iid = "NS-USER-" + Math.floor(1000 + Math.random() * 9000) + "-X";
            const timestamp = new Date().toISOString();
            
            // Logic: Auto-calculate H+3 Claim [cite: 2026-01-25]
            const initialClaim = 1540; 

            // Auto-Save to LocalStorage (Persistence)
            const userData = {
                iid: iid,
                username: user,
                balance: initialClaim,
                joined: timestamp,
                status: "ACTIVE"
            };
            
            localStorage.setItem('neuro_identity', JSON.stringify(userData));
            
            // Log to console for audit [cite: 2026-01-25]
            console.log("AI Guard: Identity Auto-Saved", userData);
            
            alert("SUCCESS: Identity " + iid + " has been auto-saved to Sovereign Ledger.");
            window.location.href = 'vault.html';
        }
    </script>
</body>
</html>
<script>
async function startBiometricAuth() {
    if (!window.PublicKeyCredential) {
        alert("Biometrics not supported. Falling back to Nano-Save.");
        return autoSaveIdentity();
    }
    
    // Inisialisasi Biometrik lewat Hardware [cite: 2025-12-23]
    try {
        console.log("AI Guard: Requesting Hardware Bio-Auth...");
        // Simulasi Handshake Hardware (WebAuthn Bridge)
        alert("Please verify your identity (Fingerprint/FaceID)");
        autoSaveIdentity();
    } catch (err) {
        alert("Auth Failed: " + err.message);
    }
}
</script>
